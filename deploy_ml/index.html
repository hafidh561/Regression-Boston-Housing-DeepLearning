<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Boston Housing - Predict MEDV</title>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
			integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
			crossorigin="anonymous"
		/>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-md-12 text-center pt-4">
					<h1>Boston Housing - Predict MEDV</h1>
				</div>
			</div>
			<form class="pb-4 data-form">
				<div class="form-group">
					<label for="crim">CRIM</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="crim"
						aria-describedby="crimHelp"
						placeholder="Input CRIM"
						required
					/>
					<small id="crimHelp" class="form-text text-muted"
						>per capita crime rate by town</small
					>
				</div>
				<div class="form-group">
					<label for="zn">ZN</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="zn"
						aria-describedby="znHelp"
						placeholder="Input zn"
						required
					/>
					<small id="znHelp" class="form-text text-muted"
						>proportion of residential land zoned for lots over 25,000
						sq.ft</small
					>
				</div>
				<div class="form-group">
					<label for="indus">INDUS</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="indus"
						aria-describedby="indusHelp"
						placeholder="Input indus"
						required
					/>
					<small id="indusHelp" class="form-text text-muted"
						>proportion of non-retail business acres per town</small
					>
				</div>
				<div class="form-group">
					<label for="chas">CHAS</label>
					<select class="form-control" id="chas">
						<option>Tract Bounds River</option>
						<option>Otherwise</option>
					</select>
					<small id="chasHelp" class="form-text text-muted"
						>Charles River dummy variable</small
					>
				</div>
				<div class="form-group">
					<label for="nox">NOX</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="nox"
						aria-describedby="noxHelp"
						placeholder="Input nox"
						required
					/>
					<small id="noxHelp" class="form-text text-muted"
						>nitrogen oxides concentration (parts per 10 million)</small
					>
				</div>
				<div class="form-group">
					<label for="rm">RM</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="rm"
						aria-describedby="rmHelp"
						placeholder="Input rm"
						required
					/>
					<small id="rmHelp" class="form-text text-muted"
						>average number of rooms per dwelling</small
					>
				</div>
				<div class="form-group">
					<label for="age">AGE</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="age"
						aria-describedby="ageHelp"
						placeholder="Input age"
						required
					/>
					<small id="ageHelp" class="form-text text-muted"
						>proportion of owner-occupied units built prior to 1940</small
					>
				</div>
				<div class="form-group">
					<label for="dis">DIS</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="dis"
						aria-describedby="disHelp"
						placeholder="Input dis"
						required
					/>
					<small id="disHelp" class="form-text text-muted"
						>weighted mean of distances to five Boston employment centres</small
					>
				</div>
				<div class="form-group">
					<label for="rad">RAD</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="rad"
						aria-describedby="radHelp"
						placeholder="Input rad"
						required
					/>
					<small id="radHelp" class="form-text text-muted"
						>index of accessibility to radial highways</small
					>
				</div>
				<div class="form-group">
					<label for="tax">TAX</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="tax"
						aria-describedby="taxHelp"
						placeholder="Input tax"
						required
					/>
					<small id="taxHelp" class="form-text text-muted"
						>full-value property-tax rate per \$10,000.</small
					>
				</div>
				<div class="form-group">
					<label for="ptratio">PTRATIO</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="ptratio"
						aria-describedby="ptratioHelp"
						placeholder="Input ptratio"
						required
					/>
					<small id="ptratioHelp" class="form-text text-muted"
						>pupil-teacher ratio by town</small
					>
				</div>
				<div class="form-group">
					<label for="black">BLACK</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="black"
						aria-describedby="blackHelp"
						placeholder="Input black"
						required
					/>
					<small id="blackHelp" class="form-text text-muted"
						>1000(Bk - 0.63)^2 where Bk is the proportion of blacks by
						town</small
					>
				</div>
				<div class="form-group">
					<label for="lstat">LSTAT</label>
					<input
						type="number"
						step="any"
						class="form-control"
						id="lstat"
						aria-describedby="lstatHelp"
						placeholder="Input lstat"
						required
					/>
					<small id="lstatHelp" class="form-text text-muted"
						>lower status of the population (percent)</small
					>
				</div>

				<button type="submit" class="btn btn-primary">Submit</button>
			</form>
			<div class="row pb-4 pt-3">
				<div class="col-md-12 text-center">
					<h1>MEDV</h1>
				</div>
				<div class="col-md-12 text-center">
					<h1 class="result">0</h1>
				</div>
			</div>
		</div>
		<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			// Current year
			$('.data-form').submit(function (e) {
				e.preventDefault();
				// Take Data Form
				$crim = $('#crim').val();
				$crim = parseFloat($crim);

				$zn = $('#zn').val();
				$zn = parseFloat($zn);

				$indus = $('#indus').val();
				$indus = parseFloat($indus);

				$chas = $('#chas').val();
				$chas = $chas == 'Otherwise' ? 0 : 1;
				$chas = parseFloat($chas);

				$nox = $('#nox').val();
				$nox = parseFloat($nox);

				$rm = $('#rm').val();
				$rm = parseFloat($rm);

				$age = $('#age').val();
				$age = parseFloat($age);

				$dis = $('#dis').val();
				$dis = parseFloat($dis);

				$rad = $('#rad').val();
				$rad = parseFloat($rad);

				$tax = $('#tax').val();
				$tax = parseFloat($tax);

				$ptratio = $('#ptratio').val();
				$ptratio = parseFloat($ptratio);

				$black = $('#black').val();
				$black = parseFloat($black);

                $lstat = $('#lstat').val();
				$lstat = parseFloat($lstat);

				$.ajax({
					url: 'http://localhost:5000',
					type: 'post',
					data: {
						crim: $crim,
						zn: $zn,
						indus: $indus,
						chas: $chas,
						nox: $nox,
						rm: $rm,
						age: $age,
						dis: $dis,
						rad: $rad,
						tax: $tax,
						ptratio: $ptratio,
						black: $black,
						lstat: $lstat,
					},
					success: function (response) {
						$('.result').html(response['predict']);
					},
				});
			});
		</script>
	</body>
</html>
